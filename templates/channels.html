{% extends "base.html" %}

{% block title %}{{ _('Channels - Communism Online') }}{% endblock %}

{% block header %}
<h1>{{ _('Channels of Communication') }}</h1>
{% endblock %}

{% block nav_links %}
{% if 'username' in session %}
    <a href="{{ url_for('channels_list') }}" class="nav-link active">{{ _('Channels') }}</a>
    <a href="{{ url_for('groups_list') }}" class="nav-link">{{ _('Collectives') }}</a>
    <a href="{{ url_for('music_library') }}" class="nav-link">{{ _('Music') }}</a>
    <a href="{{ url_for('gallery') }}" class="nav-link">{{ _('Gallery') }}</a>
    <a href="{{ url_for('profile') }}" class="nav-link">{{ _('Comrade Profile') }}</a>
    <a href="{{ url_for('logout') }}" class="nav-link">{{ _('Leave Assembly') }}</a>
{% else %}
    <a href="{{ url_for('login') }}" class="nav-link">{{ _('Enter Collective') }}</a>
    <a href="{{ url_for('register') }}" class="nav-link">{{ _('Join the Party') }}</a>
{% endif %}
{% endblock %}

{% block content %}
<section class="content">
    <h2>{{ _('Collective Communication Channels') }}</h2>
    <p>{{ _('Select a channel to engage with your fellow comrades.') }}</p>
    
    <div class="channels-grid">
        {% for channel_id, channel in channels.items() %}
            <div class="channel-card">
                <h3>{{ channel.name }}</h3>
                <p>{{ channel.description }}</p>
                <p><small>{{ channel.posts|length }} {{ _('post(s)') }}</small></p>
                <a href="{{ url_for('channel_view', channel_id=channel_id) }}" class="btn-cta">{{ _('Enter Channel') }}</a>
            </div>
        {% endfor %}
    </div>
</section>
{% endblock %} 